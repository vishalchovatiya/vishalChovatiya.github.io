<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  How Program Gets Run: Linux · Vishal Chovatiya
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Vishal Chovatiya">
<meta name="description" content="I know it’s long, but please bear with me &amp; have patience.
How do we launch our programs? Link to heading Do you know how programs get runs behind the screen when you double-click on it or you type ./a.out on shell As you know, the standard way to launch an application from a shell is to start terminal emulator application &amp; just write the name of the program &amp; pass or not arguments to our program, for example: [vishal@machine Desktop]$ ls --version ls (GNU coreutils) 8.">
<meta name="keywords" content="blog,developer,personal">


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="How Program Gets Run: Linux">
  <meta name="twitter:description" content="I know it’s long, but please bear with me &amp; have patience.
How do we launch our programs? Link to heading Do you know how programs get runs behind the screen when you double-click on it or you type ./a.out on shell As you know, the standard way to launch an application from a shell is to start terminal emulator application &amp; just write the name of the program &amp; pass or not arguments to our program, for example: [vishal@machine Desktop]$ ls --version ls (GNU coreutils) 8.">

<meta property="og:url" content="http://localhost:1313/posts/program-gets-run-linux/">
  <meta property="og:site_name" content="Vishal Chovatiya">
  <meta property="og:title" content="How Program Gets Run: Linux">
  <meta property="og:description" content="I know it’s long, but please bear with me &amp; have patience.
How do we launch our programs? Link to heading Do you know how programs get runs behind the screen when you double-click on it or you type ./a.out on shell As you know, the standard way to launch an application from a shell is to start terminal emulator application &amp; just write the name of the program &amp; pass or not arguments to our program, for example: [vishal@machine Desktop]$ ls --version ls (GNU coreutils) 8.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2016-09-25T00:00:00+00:00">
    <meta property="article:modified_time" content="2016-09-25T00:00:00+00:00">




<link rel="canonical" href="http://localhost:1313/posts/program-gets-run-linux/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>




<body class="preload-transitions colorscheme-light">
  

  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      Vishal Chovatiya
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Latest</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/pages/start-here">Start Here</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/categories/cpp/">C/C&#43;&#43;</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/categories/linux-system-programming/">Linux System Programming</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/categories/misc/">Misc</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/program-gets-run-linux/">
              How Program Gets Run: Linux
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2016-09-25T00:00:00Z">
                September 25, 2016
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              11-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/linux-system-programming/">Linux-System-Programming</a></div>

          
        </div>
      </header>

      <div class="post-content">
        
        <p>I know it’s long, but please bear with me &amp; have patience.</p>
<h3 id="how-do-we-launch-our-programs">
  How do we launch our programs?
  <a class="heading-link" href="#how-do-we-launch-our-programs">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Do you know how programs get runs behind the screen when you double-click on it or you type <code>./a.out</code> on shell</li>
<li>As you know, the standard way to launch an application from a shell is to start terminal emulator application &amp; just write the name of the program &amp; pass or not arguments to our program, for example:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>vishal@machine Desktop<span style="color:#f92672">]</span>$ ls --version
</span></span><span style="display:flex;"><span>ls <span style="color:#f92672">(</span>GNU coreutils<span style="color:#f92672">)</span> 8.22
</span></span><span style="display:flex;"><span>Copyright <span style="color:#f92672">(</span>C<span style="color:#f92672">)</span> <span style="color:#ae81ff">2013</span> Free Software Foundation, Inc.
</span></span><span style="display:flex;"><span>License GPLv3+: GNU GPL version <span style="color:#ae81ff">3</span> or later .
</span></span><span style="display:flex;"><span>This is free software: you are free to change and redistribute it.
</span></span><span style="display:flex;"><span>There is NO WARRANTY, to the extent permitted by law.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Written by Richard M. Stallman and David MacKenzie.
</span></span></code></pre></div><h3 id="get-in-to-bash-devtty">
  Get In To Bash : <code>/dev/tty</code>
  <a class="heading-link" href="#get-in-to-bash-devtty">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<h4 id="sanity-checks">
  Sanity Checks
  <a class="heading-link" href="#sanity-checks">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>So let&rsquo;s start with the main function of <code>bash</code> shell. If you will look on the source code of the <code>bash</code> shell, you will find the main function in the <code>shell.c</code> source code file which makes many different things before the main thread loop of the bash started to work. For example this function:</li>
</ul>
<ol>
<li>checks and tries to open <code>/dev/tty</code></li>
<li>check that shell running in debug mode</li>
<li>parse command-line arguments</li>
<li>reads shell environment</li>
<li>loads <code>.bashrc</code>, <code>.profile</code> and other configuration files and many more.</li>
</ol>
<h4 id="creating-environment">
  Creating Environment
  <a class="heading-link" href="#creating-environment">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>After all of these operations, you can see the call of the <code>reader_loop</code> function defined in the <code>eval.c</code> which reads the given program name &amp; arguments, then it calls the <code>execute_command</code> function from the <code>execute_cmd.c</code> which in turn calls following function chain which makes different checks like do we need to start <code>subshell</code>, was it built-in <code>bash</code> function or not etc.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>execute_command
</span></span><span style="display:flex;"><span>--&gt; execute_command_internal
</span></span><span style="display:flex;"><span>----&gt; execute_simple_command
</span></span><span style="display:flex;"><span>------&gt; execute_disk_command
</span></span><span style="display:flex;"><span>--------&gt; shell_execve
</span></span></code></pre></div><ul>
<li>In the end of this process, the <code>shell_execve</code> function calls the <code>execve</code> system call which has the following signature</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">execve</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>filename, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> argv [], <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> envp[]);
</span></span></code></pre></div><ul>
<li>Executes a program by the given filename, with the given arguments and environment variables. So, a user application (bash in our case) calls the system call &amp; as we already know the next step is the Linux kernel.</li>
</ul>
<h3 id="get-into-kernelexecve-system-call">
  Get Into Kernel: <code>execve</code> System Call
  <a class="heading-link" href="#get-into-kernelexecve-system-call">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<h4 id="execve-system-call-implementation">
  <code>execve</code> System Call Implementation
  <a class="heading-link" href="#execve-system-call-implementation">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>This system call defined in the <code>fs/exec.c</code> source code file &amp; has following signature :</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#a6e22e">SYSCALL_DEFINE3</span>(execve,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> __user <span style="color:#f92672">*</span>, filename,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> __user <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> __user <span style="color:#f92672">*</span>, argv,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> __user <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> __user <span style="color:#f92672">*</span>, envp)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">do_execve</span>(<span style="color:#a6e22e">getname</span>(filename), argv, envp);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>Implementation of the <code>execve</code> is pretty simple here, as we can see it just returns the result of the <code>do_execve</code> function which initialize two pointers on a userspace data with the given arguments and environment variables &amp; return the result of the <code>do_execveat_common</code>.</li>
</ul>
<p>We can see its implementation:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">do_execve</span>(<span style="color:#66d9ef">struct</span> filename <span style="color:#f92672">*</span>filename,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> __user <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> __user <span style="color:#f92672">*</span>__argv,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> __user <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> __user <span style="color:#f92672">*</span>__envp)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> user_arg_ptr argv <span style="color:#f92672">=</span> { .ptr.native <span style="color:#f92672">=</span> __argv };
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> user_arg_ptr envp <span style="color:#f92672">=</span> { .ptr.native <span style="color:#f92672">=</span> __envp };
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">do_execveat_common</span>(AT_FDCWD, filename, argv, envp, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The <code>do_execveat_common</code> function takes a similar set of arguments, but having 2 extra arguments.</li>
</ul>
<h4 id="sanity-checks-1">
  Sanity Checks
  <a class="heading-link" href="#sanity-checks-1">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>The first argument <code>AT_FDCWD</code> is the file descriptor of current directory &amp; fifth argument is flags. which we will see later.</li>
<li><code>do_execveat_common</code> function checks the filename pointer &amp; returns if it is <code>NULL</code>.</li>
<li>After this it check flags of the current process that limit of running processes is not exceeded:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">IS_ERR</span>(filename))
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">PTR_ERR</span>(filename);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> ((current<span style="color:#f92672">-&gt;</span>flags <span style="color:#f92672">&amp;</span> PF_NPROC_EXCEEDED) <span style="color:#f92672">&amp;&amp;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">atomic_read</span>(<span style="color:#960050;background-color:#1e0010">¤</span><span style="color:#a6e22e">t_user</span>()<span style="color:#f92672">-&gt;</span>processes) <span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">rlimit</span>(RLIMIT_NPROC)) {
</span></span><span style="display:flex;"><span>	retval <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>EAGAIN;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">goto</span> out_ret;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>current<span style="color:#f92672">-&gt;</span>flags <span style="color:#f92672">&amp;=</span> <span style="color:#f92672">~</span>PF_NPROC_EXCEEDED;
</span></span></code></pre></div><ul>
<li>If these two checks were successful we unset <code>PF_NPROC_EXCEEDED</code> flag in the flags of the current process to prevent failure of the execve.</li>
<li>In the next step we call the <code>unshare_files</code> function that defined in the <code>kernel/fork.c</code> and unshares the files of the current task and check the result of this function:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>retval <span style="color:#f92672">=</span> <span style="color:#a6e22e">unshare_files</span>(<span style="color:#f92672">&amp;</span>displaced);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (retval)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> out_ret;
</span></span></code></pre></div><ul>
<li>We need to call this function to eliminate potential leak of the <code>execve'd</code> binary&rsquo;s file descriptor. In the next step, we start preparation of the <code>bprm</code> that represented by the struct <code>linux_binprm</code> structure (defined in the <code>include/linux/binfmts.h</code> header file).</li>
</ul>
<h3 id="preparing-binary-parameter-struct">
  Preparing Binary Parameter Struct
  <a class="heading-link" href="#preparing-binary-parameter-struct">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<h4 id="structlinux_binprm">
  <code>struct linux_binprm</code>
  <a class="heading-link" href="#structlinux_binprm">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>The <code>linux_binprm</code> structure is used to hold the arguments that are used when loading binaries.</li>
<li>For example it contains <code>vm_area_struct</code> which represents a single memory area over a contiguous interval in a given address space where our application will be loaded</li>
<li><code>mm</code> field which is memory descriptor of the binary, pointer to the top of memory and many other different fields.</li>
</ul>
<h4 id="allocating-memory">
  Allocating Memory
  <a class="heading-link" href="#allocating-memory">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>bprm <span style="color:#f92672">=</span> <span style="color:#a6e22e">kzalloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#f92672">*</span>bprm), GFP_KERNEL);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>bprm)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> out_files;
</span></span></code></pre></div><h4 id="preparing-credentials">
  Preparing Credentials
  <a class="heading-link" href="#preparing-credentials">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>retval <span style="color:#f92672">=</span> <span style="color:#a6e22e">prepare_bprm_creds</span>(bprm);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (retval)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> out_free;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">check_unsafe_exec</span>(bprm);
</span></span><span style="display:flex;"><span>current<span style="color:#f92672">-&gt;</span>in_execve <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span></code></pre></div><ul>
<li>Initialization of the cred structure that stored inside of the <code>linux_binprm</code> structure contains the security context of a task, for example real <code>uid</code> of the task, real <code>guid</code> of the task, <code>uid</code> and <code>guid</code> for the virtual file system operations etc.</li>
<li>In the next step, the call of the <code>check_unsafe_exec</code> function set the current process to the <code>in_execve</code> state.</li>
</ul>
<h4 id="set-up--schedule-binary">
  Set-up &amp; Schedule Binary
  <a class="heading-link" href="#set-up--schedule-binary">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>After all of these operations, we call the <code>do_open_execat</code> function which<br>
- Searches &amp; opens executable file on disk &amp; checks that,<br>
- load a binary file from <code>noexec</code> mount points bypassed flag <code>0</code> (we need to avoid execute a binary from filesystems that do not contain executable binaries like proc or sysfs),<br>
- initialize <code>file</code> structure &amp; returns pointer on this structure.</li>
<li>Next, we can see the call the <code>sched_exec</code> after this. The <code>sched_exec</code> function is used to determine the least loaded processor that can execute the new program &amp; to migrate the current process to it.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>file <span style="color:#f92672">=</span> <span style="color:#a6e22e">do_open_execat</span>(fd, filename, flags);
</span></span><span style="display:flex;"><span>retval <span style="color:#f92672">=</span> <span style="color:#a6e22e">PTR_ERR</span>(file);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">IS_ERR</span>(file))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> out_unmark;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sched_exec</span>();
</span></span></code></pre></div><ul>
<li>After this, we need to check file descriptor of the give executable binary. We try to check does the name of the our binary file starts from the <code>/</code> symbol or does the path of the given executable binary is interpreted relative to the current working directory of the calling process or in other words file descriptor is <code>AT_FDCWD</code>.</li>
<li>If one of these checks is successful we set the binary parameter filename:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>bprm<span style="color:#f92672">-&gt;</span>file <span style="color:#f92672">=</span> file;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (fd <span style="color:#f92672">==</span> AT_FDCWD <span style="color:#f92672">||</span> filename<span style="color:#f92672">-&gt;</span>name[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;/&#39;</span>) {
</span></span><span style="display:flex;"><span>    bprm<span style="color:#f92672">-&gt;</span>filename <span style="color:#f92672">=</span> filename<span style="color:#f92672">-&gt;</span>name;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>Otherwise, if the filename is empty we set the binary parameter filename to the <code>/dev/fd/%d</code> or <code>/dev/fd/%d/%s</code> depends on the filename of the given executable binary which means that we will execute the file to which the file descriptor refers:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> (filename<span style="color:#f92672">-&gt;</span>name[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;\0&#39;</span>)
</span></span><span style="display:flex;"><span>		pathbuf <span style="color:#f92672">=</span> <span style="color:#a6e22e">kasprintf</span>(GFP_TEMPORARY, <span style="color:#e6db74">&#34;/dev/fd/%d&#34;</span>, fd);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>		pathbuf <span style="color:#f92672">=</span> <span style="color:#a6e22e">kasprintf</span>(GFP_TEMPORARY, <span style="color:#e6db74">&#34;/dev/fd/%d/%s&#34;</span>,	fd, filename<span style="color:#f92672">-&gt;</span>name);
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>pathbuf) {
</span></span><span style="display:flex;"><span>		retval <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>ENOMEM;
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">goto</span> out_unmark;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	bprm<span style="color:#f92672">-&gt;</span>filename <span style="color:#f92672">=</span> pathbuf;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bprm<span style="color:#f92672">-&gt;</span>interp <span style="color:#f92672">=</span> bprm<span style="color:#f92672">-&gt;</span>filename;
</span></span></code></pre></div><ul>
<li>Note that we set not only the <code>bprm-&gt;filename</code> but also <code>bprm-&gt;interp</code> that will contain the name of the program interpreter.</li>
<li>For now we just write the same name there, but later it will be updated with the real name of the program interpreter depends on the binary format of a program.</li>
</ul>
<h4 id="preparing-memory-related-info">
  Preparing Memory Related Info
  <a class="heading-link" href="#preparing-memory-related-info">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>retval <span style="color:#f92672">=</span> <span style="color:#a6e22e">bprm_mm_init</span>(bprm);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (retval)
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">goto</span> out_unmark;
</span></span></code></pre></div><ul>
<li>The <code>bprm_mm_init</code> defined in the same source code file initializes <code>mm_struct</code> structure &amp; populate it with a temporary stack <code>vm_area_struct</code> which is defined in the <code>include/linux/mm_types.h</code> header file &amp; represents address space of a process.</li>
</ul>
<h4 id="countingcommand-line-args--environment-variables">
  Counting Command Line Args &amp; Environment Variables
  <a class="heading-link" href="#countingcommand-line-args--environment-variables">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>bprm<span style="color:#f92672">-&gt;</span>argc <span style="color:#f92672">=</span> <span style="color:#a6e22e">count</span>(argv, MAX_ARG_STRINGS);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> ((retval <span style="color:#f92672">=</span> bprm<span style="color:#f92672">-&gt;</span>argc) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> out;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bprm<span style="color:#f92672">-&gt;</span>envc <span style="color:#f92672">=</span> <span style="color:#a6e22e">count</span>(envp, MAX_ARG_STRINGS);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> ((retval <span style="color:#f92672">=</span> bprm<span style="color:#f92672">-&gt;</span>envc) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> out;
</span></span></code></pre></div><ul>
<li>As you can see, <code>MAX_ARG_STRINGS</code> is the upper limit macro defined in the header file represents maximum number of strings that were passed to the <code>execve</code> system call. The value of the <code>MAX_ARG_STRINGS</code>:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#define MAX_ARG_STRINGS 0x7FFFFFFF
</span></span></span></code></pre></div><h4 id="reading-binaryelf-file">
  Reading Binary(ELF) File
  <a class="heading-link" href="#reading-binaryelf-file">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>Now, the call of <code>prepare_binprm</code> function fills the <code>linux_binprm</code> structure with the <code>uid</code> from <code>inode</code> and read <code>128</code> bytes from the binary executable file. We read only first <code>128</code> from the executable file because we need to check a type of our executable. We will read the rest of the executable file in the later step.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>retval <span style="color:#f92672">=</span> <span style="color:#a6e22e">prepare_binprm</span>(bprm);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (retval <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> out;
</span></span></code></pre></div><ul>
<li>After the preparation of the <code>linux_bprm</code> structure we copy the filename of the executable binary file, command-line arguments and environment variables to the <code>linux_bprm</code> from the kernel with the call of the <code>copy_strings_kernel</code> function:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>retval <span style="color:#f92672">=</span> <span style="color:#a6e22e">copy_strings_kernel</span>(<span style="color:#ae81ff">1</span>, <span style="color:#f92672">&amp;</span>bprm<span style="color:#f92672">-&gt;</span>filename, bprm);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (retval <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> out;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>retval <span style="color:#f92672">=</span> <span style="color:#a6e22e">copy_strings</span>(bprm<span style="color:#f92672">-&gt;</span>envc, envp, bprm);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (retval <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> out;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>retval <span style="color:#f92672">=</span> <span style="color:#a6e22e">copy_strings</span>(bprm<span style="color:#f92672">-&gt;</span>argc, argv, bprm);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (retval <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> out;
</span></span></code></pre></div><ul>
<li>And set the pointer to the top of the new program&rsquo;s stack that we set in the <code>bprm_mm_init</code> function <code>bprm-&gt;exec = bprm-&gt;p;</code></li>
<li>The top of the stack will contain the program filename and we store this filename to the <code>exec</code> field of the <code>linux_bprm</code> structure.</li>
</ul>
<h3 id="processing-binary-parameter-struct">
  Processing Binary Parameter Struct
  <a class="heading-link" href="#processing-binary-parameter-struct">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Call to <code>exec_binprm</code> function stores the pid from the namespace of the current task before it changes</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>retval <span style="color:#f92672">=</span> <span style="color:#a6e22e">exec_binprm</span>(bprm);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (retval <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> out;
</span></span></code></pre></div><ul>
<li>and call the:</li>
</ul>
<p><code>search_binary_handler(bprm);</code></p>
<ul>
<li>
<p>Which goes through the list of handlers that contains different binary formats. Currently the Linux kernel supports following binary formats:</p>
</li>
<li>
<p><code>binfmt_script</code> support for interpreted scripts that start from the #! line;</p>
</li>
<li>
<p><code>binfmt_misc</code> - support different binary formats, according to runtime configuration of the Linux kernel;</p>
</li>
<li>
<p><code>binfmt_elf</code> - support elf format;</p>
</li>
<li>
<p><code>binfmt_aout</code> - support a.out format;</p>
</li>
<li>
<p><code>binfmt_flat</code> - support for flat format;</p>
</li>
<li>
<p><code>binfmt_elf_fdpic</code> - Support for elf FDPIC binaries;</p>
</li>
<li>
<p><code>binfmt_em86</code> - support for Intel elf binaries running on Alpha machines.</p>
</li>
<li>
<p>So, the <code>search_binary_handler</code> tries to call the <code>load_binary</code> function and pass <code>linux_binprm</code> to it. If the binary handler supports the given executable file format, it starts to prepare the executable binary for execution:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">search_binary_handler</span>(<span style="color:#66d9ef">struct</span> linux_binprm <span style="color:#f92672">*</span>bprm)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">list_for_each_entry</span>(fmt, <span style="color:#f92672">&amp;</span>formats, lh) {
</span></span><span style="display:flex;"><span>	retval <span style="color:#f92672">=</span> fmt<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">load_binary</span>(bprm);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> (retval <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>bprm<span style="color:#f92672">-&gt;</span>mm) {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">force_sigsegv</span>(SIGSEGV, current);
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> retval;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> retval;
</span></span></code></pre></div><ul>
<li>Where the <code>load_binary</code> for example checks the magic number (each elf binary file contains magic number in the header) in the <code>linux_bprm</code> buffer (remember that we read first <code>128</code> bytes from the executable binary file) &amp; exit if it is not elf binary:</li>
</ul>
<h3 id="executing-binary">
  Executing Binary
  <a class="heading-link" href="#executing-binary">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<h4 id="sanity-checks-2">
  Sanity Checks
  <a class="heading-link" href="#sanity-checks-2">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>If the given executable file is in elf format, the <code>load_elf_binary</code> continues &amp; checks the architecture and type of the executable file and exit if there is wrong architecture and executable file non-executable non shared:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (loc<span style="color:#f92672">-&gt;</span>elf_ex.e_type <span style="color:#f92672">!=</span> ET_EXEC <span style="color:#f92672">&amp;&amp;</span> loc<span style="color:#f92672">-&gt;</span>elf_ex.e_type <span style="color:#f92672">!=</span> ET_DYN)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">goto</span> out;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">elf_check_arch</span>(<span style="color:#f92672">&amp;</span>loc<span style="color:#f92672">-&gt;</span>elf_ex))
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">goto</span> out;
</span></span></code></pre></div><h4 id="setup-process-address-space--dependencies">
  Setup Process Address Space &amp; Dependencies
  <a class="heading-link" href="#setup-process-address-space--dependencies">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>Tries to load the <code>program header</code> table that describes <code>segments</code>. Read the program interpreter and libraries that linked with the our executable binary file from disk and load it to memory.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>elf_phdata <span style="color:#f92672">=</span> <span style="color:#a6e22e">load_elf_phdrs</span>(<span style="color:#f92672">&amp;</span>loc<span style="color:#f92672">-&gt;</span>elf_ex, bprm<span style="color:#f92672">-&gt;</span>file);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>elf_phdata)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> out;
</span></span></code></pre></div><ul>
<li>The program interpreter specified in the <code>.interp</code> section of the executable file (in most cases, linker is - <code>/lib64/ld-linux-x86-64.so.2</code> for the <code>x86_64</code>).</li>
<li>It setups the stack and map elf binary into the correct location in memory. It maps the bss and the brk sections and does many other different things to prepare executable file to execute.</li>
<li>In the end of the execution of the <code>load_elf_binary</code> we call the <code>start_thread</code> function and pass three arguments to it:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#a6e22e">start_thread</span>(regs, elf_entry, bprm<span style="color:#f92672">-&gt;</span>p);
</span></span><span style="display:flex;"><span>    retval <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>out:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">kfree</span>(loc);
</span></span><span style="display:flex;"><span>out_ret:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> retval;
</span></span></code></pre></div><ul>
<li>These Arguments are:
<ul>
<li>Set of registers for the new task</li>
<li>Address of the entry point of the new task</li>
<li>Address of the top of the stack for the new task</li>
</ul>
</li>
<li>As we can understand from the function&rsquo;s name, it starts a new thread, but it is not so. The <code>start_thread</code> function just prepares new task&rsquo;s registers to be ready to run. Let&rsquo;s look at the implementation of this function:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">start_thread</span>(<span style="color:#66d9ef">struct</span> pt_regs <span style="color:#f92672">*</span>regs, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> new_ip, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> new_sp)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">start_thread_common</span>(regs, new_ip, new_sp,
</span></span><span style="display:flex;"><span>	__USER_CS, __USER_DS, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>As we can see the <code>start_thread</code> function just makes a call of the <code>start_thread_common</code> function that will do all for us.</li>
</ul>
<h4 id="put-the-process-on-core">
  Put The Process On-Core
  <a class="heading-link" href="#put-the-process-on-core">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">start_thread_common</span>(<span style="color:#66d9ef">struct</span> pt_regs <span style="color:#f92672">*</span>regs, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> new_ip,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> new_sp,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> _cs, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> _ss, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> _ds)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">loadsegment</span>(fs, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">loadsegment</span>(es, _ds);
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">loadsegment</span>(ds, _ds);
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">load_gs_index</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>	regs<span style="color:#f92672">-&gt;</span>ip <span style="color:#f92672">=</span> new_ip;
</span></span><span style="display:flex;"><span>	regs<span style="color:#f92672">-&gt;</span>sp <span style="color:#f92672">=</span> new_sp;
</span></span><span style="display:flex;"><span>	regs<span style="color:#f92672">-&gt;</span>cs <span style="color:#f92672">=</span> _cs;
</span></span><span style="display:flex;"><span>	regs<span style="color:#f92672">-&gt;</span>ss <span style="color:#f92672">=</span> _ss;
</span></span><span style="display:flex;"><span>	regs<span style="color:#f92672">-&gt;</span>flags <span style="color:#f92672">=</span> X86_EFLAGS_IF;
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">force_iret</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The <code>start_thread_common</code> function fills <code>fs</code> segment register with zero and <code>es</code> &amp; <code>ds</code> with the value of the data segment register. After this we set new values to the instruction pointer, <code>cs</code> segments etc. At the end of the <code>start_thread_common</code> function we can see the <code>force_iret</code> macro that force a system call return via iret instruction.</li>
<li>Ok, we prepared new thread to run in userspace and now we can return from the <code>exec_binprm</code> and now we are in the <code>do_execveat_common</code> again. After the <code>exec_binprm</code> will finish its execution we release memory for structures that were allocated before and return.</li>
<li>After we returned from the <code>execve</code> system call handler, execution of our program will be started. We can do it, because all context-related information already configured for this purpose.</li>
<li>As we saw the <code>execve</code> system call does not return control to a process, but code, data and other segments of the caller process are just overwritten of the program segments.</li>
<li>The exit from our application will be implemented through the exit system call.</li>
</ul>
<p>And we are done with execution</p>

      </div>


      <footer>
        


        
        
        
        
        

        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
    integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
    integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2024
     Vishal Chovatiya 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  
  



  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
