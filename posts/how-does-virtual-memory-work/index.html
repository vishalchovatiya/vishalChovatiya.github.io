<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  How Does Virtual Memory Work? · Vishal Chovatiya
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Vishal Chovatiya">
<meta name="description" content="Have you ever wondered , How game of size 8 GB is running on a computer has 4 GB of RAM only? or You can play multiple movies simultaneously combined size more than RAM size? If you are a software developer, you may come across a word like multi-tasking or multiprocessing which is key concept behind this. In other words, it creates virtual memory which is a memory management technique. Here we will see how it works">
<meta name="keywords" content="blog,developer,personal">


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="How Does Virtual Memory Work?">
  <meta name="twitter:description" content="Have you ever wondered , How game of size 8 GB is running on a computer has 4 GB of RAM only? or You can play multiple movies simultaneously combined size more than RAM size? If you are a software developer, you may come across a word like multi-tasking or multiprocessing which is key concept behind this. In other words, it creates virtual memory which is a memory management technique. Here we will see how it works">

<meta property="og:url" content="http://localhost:1313/posts/how-does-virtual-memory-work/">
  <meta property="og:site_name" content="Vishal Chovatiya">
  <meta property="og:title" content="How Does Virtual Memory Work?">
  <meta property="og:description" content="Have you ever wondered , How game of size 8 GB is running on a computer has 4 GB of RAM only? or You can play multiple movies simultaneously combined size more than RAM size? If you are a software developer, you may come across a word like multi-tasking or multiprocessing which is key concept behind this. In other words, it creates virtual memory which is a memory management technique. Here we will see how it works">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2016-10-15T00:00:00+00:00">
    <meta property="article:modified_time" content="2016-10-15T00:00:00+00:00">




<link rel="canonical" href="http://localhost:1313/posts/how-does-virtual-memory-work/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>




<body class="preload-transitions colorscheme-light">
  

  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      Vishal Chovatiya
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Latest</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/pages/start-here">Start Here</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/categories/cpp/">C/C&#43;&#43;</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/categories/linux-system-programming/">Linux System Programming</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/categories/misc/">Misc</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/how-does-virtual-memory-work/">
              How Does Virtual Memory Work?
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2016-10-15T00:00:00Z">
                October 15, 2016
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/misc/">Misc</a>
      <span class="separator">•</span>
    <a href="/categories/operating-system/">Operating-System</a></div>

          
        </div>
      </header>

      <div class="post-content">
        
          <img src="/images/How-Does-Virtual-Memory-Work-vishalchovatiya.png" alt="Featured image"/>
        
        <p>Have you ever wondered , How game of size 8 GB is running on a computer has 4 GB of RAM only? or You can play multiple movies simultaneously combined size more than RAM size? If you are a software developer, you may come across a word like multi-tasking or multiprocessing which is key concept behind this. In other words, it creates virtual memory which is a memory management technique. Here we will see how it works</p>
<h2 id="how-does-virtual-memory-work">
  How Does Virtual Memory Work?
  <a class="heading-link" href="#how-does-virtual-memory-work">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p><img src="/images/How-Does-Virtual-Memory-Work.jpg"></p>
<ul>
<li>Let’s say that an OS needs 120 MB of memory in order to hold all the running programs.</li>
<li>But there’s currently only 50 MB of available physical memory stored on the RAM chips.</li>
<li>The OS will then set up 120 MB of virtual memory &amp; will use a program called the virtual memory manager(VMM) to manage that 120 MB.</li>
<li>The VMM will create a file on the hard disk that is 70 MB (120 – 50) in size to account for the extra memory that’s needed.</li>
<li>The OS will now proceed to address memory as if there were actually 120 MB of real memory stored in the RAM, even though there’s really only 50 MB.</li>
<li>It is the responsibility of the VMM to deal with the fact that there is only 50 MB of real memory.</li>
</ul>
<p><strong>/!\:</strong> If you want to know in-depth of virtual memory implementation, you are at the wrong place. This article will only clear your concept of &ldquo;How does virtual memory work&rdquo;!</p>
<h2 id="jargons">
  Jargons
  <a class="heading-link" href="#jargons">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<table>
<thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>Physical Memory or Main Memory</td>
<td>RAM</td>
</tr>
<tr>
<td>Secondary Memory</td>
<td>HDD or SSD</td>
</tr>
<tr>
<td>Virtual Memory</td>
<td>Illusion created by OS for optimization (You can say this definition too)</td>
</tr>
<tr>
<td>VMM</td>
<td>Virtual Memory Manager</td>
</tr>
<tr>
<td>Process Address Space</td>
<td>Set of logical addresses that a process references in its code (provided by VMM)</td>
</tr>
<tr>
<td>OS</td>
<td>Operating system (I think this is not needed)</td>
</tr>
<tr>
<td>AKA</td>
<td>Also known as</td>
</tr>
</tbody>
</table>
<h2 id="how-does-vmm-work">
  How Does VMM Work?
  <a class="heading-link" href="#how-does-vmm-work">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>VMM creates a file on the hard disk that holds the extra memory which needed by the OS, which in our case is 70 MB in size.</li>
<li>This file called a paging file (AKA swap-file/page-frames) &amp; plays an important role in virtual memory(i.e. How does virtual memory work).</li>
<li>The paging file combined with the RAM accounts for all of the memory.</li>
<li>Whenever the OS needs a ‘block’ of memory that’s not in the main(RAM) memory, the VMM takes a block from the real memory that hasn’t used recently, writes it to the paging file &amp; then reads the block of memory that the OS needs from the paging file.</li>
<li>The VMM then takes the block of memory from the paging file(which needed currently) &amp; moves it into the main memory – in place of the old block.</li>
<li>This process is called swapping (also known as paging) &amp; the blocks of memory that are swapped, called pages. There are several algorithms for this process, called <a href="https://en.wikipedia.org/wiki/Page_replacement_algorithm"  class="external-link" target="_blank" rel="noopener">Page Replacement Algorithms</a>.</li>
<li>The group of pages that currently exist in RAM &amp; that is dedicated to a specific process, is known as the working set for that process.</li>
</ul>
<h2 id="why-virtual-memory-used">
  Why Virtual Memory Used?
  <a class="heading-link" href="#why-virtual-memory-used">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>There are two reasons why one would want this:
<ol>
<li>To allow the use of programs that are too big to physically fit in memory.</li>
<li>The other reason is to allow for multitasking.</li>
</ol>
</li>
<li>Before virtual memory existed, a word processor, e-mail program, &amp; browser couldn’t be run at the same time unless there was enough memory to hold all three programs at once.</li>
<li>This would mean that one would have to close one program in order to run the other, but now with virtual memory, multitasking is possible even when there is not enough memory to hold all <a href="/posts/program-gets-run-linux/" >executing programs</a> at once.</li>
</ul>
<h2 id="which-os-implemented-virtual-memory">
  Which OS Implemented Virtual Memory?
  <a class="heading-link" href="#which-os-implemented-virtual-memory">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>Some of the most popular OSs like Windows, Mac OSX, &amp; Linux implemented VMM.</li>
</ul>
<h2 id="virtual-memory-can-slow-down-performancethrashing">
  Virtual Memory Can Slow Down Performance(Thrashing)!
  <a class="heading-link" href="#virtual-memory-can-slow-down-performancethrashing">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>If the size of virtual memory is quite large in comparison to the main memory, then more swapping to &amp; from the hard disk will occur as a result.</li>
<li>Accessing the hard disk is far slower than using the main memory(RAM).</li>
<li>Using too many programs at once in a system with an insufficient amount of RAM results in constant disk swapping – also called thrashing, which can really slow down a system’s performance.</li>
</ul>
<h2 id="terms-associated-with-virtual-memory">
  Terms Associated With Virtual Memory
  <a class="heading-link" href="#terms-associated-with-virtual-memory">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h4 id="page">
  <strong>Page</strong>
  <a class="heading-link" href="#page">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>In the Paging Scheme, the OS retrieves data from Hard Disk in same-size blocks called pages.</li>
</ul>
<h4 id="paging">
  <strong>Paging</strong>
  <a class="heading-link" href="#paging">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>It is a VMM scheme by which computer stores &amp; retrieves data from secondary storage(Hard Disk&ndash;Nowadays SSD) for use in real memory(RAM).</li>
<li>Paging let programs exceed the size of available physical memory &amp; form virtual memory.</li>
</ul>
<h4 id="page-fault">
  <strong>Page Fault</strong>
  <a class="heading-link" href="#page-fault">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>A page fault occurs when a program tries to access a page that is mapped in address space but not loaded in the physical memory(RAM).</li>
<li>Which means that the program would have to access the paging file (which resides on the hard disk) to retrieve the desired page.</li>
</ul>
<h3 id="httpsgithubcomvisheshpatelos-conceptsblobmasterpaging202620page20faultsmdcombining-page-paging--page-fault-termscombining-page-paging--page-fault-terms">
  <a href="https://github.com/VisheshPatel/OS-Concepts/blob/master/Paging%20%26%20Page%20Faults.md#combining-page-paging--page-fault-terms"  class="external-link" target="_blank" rel="noopener"></a>Combining Page, Paging &amp; Page Fault Terms
  <a class="heading-link" href="#httpsgithubcomvisheshpatelos-conceptsblobmasterpaging202620page20faultsmdcombining-page-paging--page-fault-termscombining-page-paging--page-fault-terms">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>When OS create virtual memory it will use paging scheme through which some block of memory is loaded in RAM &amp; rest is stored as a paging file in HDD(SSD in some cases)</li>
<li>When our <a href="/posts/how-c-program-stored-in-ram-memory/" >program(application) look for something which is not in RAM</a> but stored as paging file, page fault occur.</li>
<li>There are many sophisticated algorithms to decrease page fault rate, like LRU, MFU, FIFO, NRU, etc</li>
</ul>

      </div>


      <footer>
        


        
        
        
        
        

        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
    integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
    integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2024
     Vishal Chovatiya 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  
  



  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
