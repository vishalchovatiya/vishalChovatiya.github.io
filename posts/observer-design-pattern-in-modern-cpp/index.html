<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Observer Design Pattern in Modern C&#43;&#43; · Vishal Chovatiya
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Vishal Chovatiya">
<meta name="description" content="The Observer Design Pattern is a type of Behavioural Design Pattern that use to get information when certain events happen i.e. basically one component want information about something happening in the other component. And that can a lot of things like a field changes to a particular value or you want to information when the object does a particular thing, etc. Observer Design Pattern in Modern C&#43;&#43; enables you to create subscription mechanism to notify multiple objects about events that happen to the object they&rsquo;re observing.">
<meta name="keywords" content="blog,developer,personal">


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Observer Design Pattern in Modern C&#43;&#43;">
  <meta name="twitter:description" content="The Observer Design Pattern is a type of Behavioural Design Pattern that use to get information when certain events happen i.e. basically one component want information about something happening in the other component. And that can a lot of things like a field changes to a particular value or you want to information when the object does a particular thing, etc. Observer Design Pattern in Modern C&#43;&#43; enables you to create subscription mechanism to notify multiple objects about events that happen to the object they’re observing.">

<meta property="og:url" content="http://localhost:1313/posts/observer-design-pattern-in-modern-cpp/">
  <meta property="og:site_name" content="Vishal Chovatiya">
  <meta property="og:title" content="Observer Design Pattern in Modern C&#43;&#43;">
  <meta property="og:description" content="The Observer Design Pattern is a type of Behavioural Design Pattern that use to get information when certain events happen i.e. basically one component want information about something happening in the other component. And that can a lot of things like a field changes to a particular value or you want to information when the object does a particular thing, etc. Observer Design Pattern in Modern C&#43;&#43; enables you to create subscription mechanism to notify multiple objects about events that happen to the object they’re observing.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-04-03T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-04-03T00:00:00+00:00">




<link rel="canonical" href="http://localhost:1313/posts/observer-design-pattern-in-modern-cpp/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>




<body class="preload-transitions colorscheme-light">
  

  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      Vishal Chovatiya
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Latest</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/pages/start-here">Start Here</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/categories/cpp/">C/C&#43;&#43;</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/categories/linux-system-programming/">Linux System Programming</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/categories/misc/">Misc</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/observer-design-pattern-in-modern-cpp/">
              Observer Design Pattern in Modern C&#43;&#43;
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2020-04-03T00:00:00Z">
                April 3, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/cpp/">Cpp</a>
      <span class="separator">•</span>
    <a href="/categories/design-patterns/">Design-Patterns</a>
      <span class="separator">•</span>
    <a href="/categories/software-engineering/">Software-Engineering</a></div>

          
        </div>
      </header>

      <div class="post-content">
        
          <img src="/images/Observer-Design-Pattern-in-Modern-C-vishal-chovatiya.png" alt="Featured image"/>
        
        <p>The Observer Design Pattern is a type of Behavioural Design Pattern that use <strong><em>to get information when certain events happen</em></strong> i.e. basically one component want information about something happening in the other component. And that can a lot of things like a field changes to a particular value or you want to information when the object does a particular thing, etc. Observer Design Pattern in Modern C++ enables you to create subscription mechanism to notify multiple objects about events that happen to the object they&rsquo;re observing.</p>
<p>By the way, If you haven’t check out my other articles on Behavioural Design Patterns, then here is the list:</p>
<ol>
<li><a href="/posts//chain-of-responsibility-design-pattern-in-modern-cpp/" >Chain of responsibility</a></li>
<li><a href="/posts//command-design-pattern-in-modern-cpp/" >Command</a></li>
<li><a href="/posts//interpreter-design-pattern-in-modern-cpp/" >Interpreter</a></li>
<li><a href="/posts//iterator-design-pattern-in-modern-cpp/" >Iterator</a></li>
<li><a href="/posts//mediator-design-pattern-in-modern-cpp/" >Mediator</a></li>
<li><a href="/posts//memento-design-pattern-in-modern-cpp/" >Memento</a></li>
<li><a href="/posts//observer-design-pattern-in-modern-cpp/" >Observer</a></li>
<li><a href="/posts//state-design-pattern-in-modern-cpp/" >State</a></li>
<li><a href="/posts//strategy-design-pattern-in-modern-cpp/" >Strategy</a></li>
<li><a href="/posts//template-method-design-pattern-in-modern-cpp/" >Template Method</a></li>
<li><a href="/posts//double-dispatch-visitor-design-pattern-in-modern-cpp/" >Visitor</a></li>
</ol>
<p>The code snippets you see throughout this series of articles are simplified not sophisticated. So you often see me not using keywords like <code>override</code>, <code>final</code>, <code>public</code>(while inheritance) just to make code compact &amp; consumable(most of the time) in single standard screen size. I also prefer <code>struct</code> instead of <code>class</code> just to save line by not writing &ldquo;<code>public:</code>&rdquo; sometimes and also miss <a href="/posts//part-3-all-about-virtual-keyword-in-c-how-virtual-destructor-works/" >virtual destructor</a>, constructor, <a href="/posts//all-about-copy-constructor-in-cpp-with-example/" >copy constructor</a>, prefix <code>std::</code>, deleting dynamic memory, intentionally. I also consider myself a pragmatic person who wants to convey an idea in the simplest way possible rather than the standard way or using Jargons.</p>
<p><strong><em>Note:</em></strong></p>
<ul>
<li>If you stumbled here directly, then I would suggest you go through <a href="/posts//what-is-design-pattern/" >What is design pattern?</a> first, even if it is trivial. I believe it will encourage you to explore more on this topic.</li>
<li>All of this code you encounter in this series of articles are compiled using C++20(though I have used <a href="/posts//21-new-features-of-modern-cpp-to-use-in-your-project/" >Modern C++</a> features up to C++17 in most cases). So if you don&rsquo;t have access to the latest compiler you can use <a href="https://wandbox.org/"  class="external-link" target="_blank" rel="noopener">https://wandbox.org/</a> which has preinstalled boost library as well.</li>
</ul>
<h2 id="intent">
  Intent
  <a class="heading-link" href="#intent">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<blockquote>
<p><strong><em>To get notifications when events happen.</em></strong></p>
</blockquote>
<ul>
<li>The Observer Design Pattern split into two parts:
<ol>
<li><strong>observer</strong> i.e. <a href="/posts/memory-layout-of-cpp-object/" >object</a> which gets a notification about something happening somewhere in the system.</li>
<li><strong>observable</strong> i.e. entity that&rsquo;s actually generating these notifications or events.</li>
</ol>
</li>
<li>You see this are the terminology I am using which may vary people-to-people &amp; domain-to-domain, For example:
<ol>
<li>event &amp; subscriber</li>
<li>signal &amp; slot(Boost, Qt, etc.)</li>
<li>broadcaster &amp; listeners, etc.</li>
</ol>
</li>
</ul>
<h2 id="observer-design-pattern-example-in-c">
  Observer Design Pattern Example in C++
  <a class="heading-link" href="#observer-design-pattern-example-in-c">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Observer</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">field_changed</span>(T<span style="color:#f92672">&amp;</span> source, <span style="color:#66d9ef">const</span> string<span style="color:#f92672">&amp;</span> field_name) <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Observable</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">notify</span>(T<span style="color:#f92672">&amp;</span> source, <span style="color:#66d9ef">const</span> string<span style="color:#f92672">&amp;</span> field_name) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">auto</span> observer: m_observers)
</span></span><span style="display:flex;"><span>            observer<span style="color:#f92672">-&gt;</span>field_changed(source, field_name);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">subscribe</span>(Observer<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;&amp;</span> observer) { m_observers.push_back(<span style="color:#f92672">&amp;</span>observer); }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">unsubscribe</span>(Observer<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;&amp;</span> observer) {
</span></span><span style="display:flex;"><span>        m_observers.erase(remove(m_observers.begin(), m_observers.end(), <span style="color:#f92672">&amp;</span>observer), m_observers.end());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span>Observer<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;*&gt;</span>    m_observers;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Person</span> <span style="color:#f92672">:</span> Observable<span style="color:#f92672">&lt;</span>Person<span style="color:#f92672">&gt;</span>{  <span style="color:#75715e">// Observable &lt;&lt;&lt;&lt;-------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">set_age</span>(<span style="color:#66d9ef">uint8_t</span> age) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">auto</span> old_can_vote <span style="color:#f92672">=</span> get_can_vote();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>m_age <span style="color:#f92672">=</span> age;
</span></span><span style="display:flex;"><span>        notify(<span style="color:#f92672">*</span><span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#34;age&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (old_can_vote <span style="color:#f92672">!=</span> get_can_vote()) notify(<span style="color:#f92672">*</span><span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#34;can_vote&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint8_t</span> <span style="color:#a6e22e">get_age</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> m_age; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">get_can_vote</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> m_age <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">16</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint8_t</span> m_age{<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">TrafficAdministration</span> <span style="color:#f92672">:</span> Observer<span style="color:#f92672">&lt;</span>Person<span style="color:#f92672">&gt;</span>{     <span style="color:#75715e">// Observer &lt;&lt;&lt;&lt;-----------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">field_changed</span>(Person <span style="color:#f92672">&amp;</span>source, <span style="color:#66d9ef">const</span> string<span style="color:#f92672">&amp;</span> field_name) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (field_name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;age&#34;</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (source.get_age() <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">17</span>)
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Not old enough to drive!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Mature enough to drive!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>                source.unsubscribe(<span style="color:#f92672">*</span><span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    Person p;
</span></span><span style="display:flex;"><span>    TrafficAdministration ta;
</span></span><span style="display:flex;"><span>    p.subscribe(ta);
</span></span><span style="display:flex;"><span>    p.set_age(<span style="color:#ae81ff">16</span>);
</span></span><span style="display:flex;"><span>    p.set_age(<span style="color:#ae81ff">17</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> EXIT_SUCCESS;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The observer is that thing which wants to monitor something. And the observable is the component that is to monitored. So, in the above case, our <code>Person</code> is observable and the observer is <code>TrafficAdministration</code>.</li>
<li>You can also augment above code for passing <a href="/posts/learn-lambda-function-in-cpp-with-example/" >lambda</a> as a subscriber rather than an object for a more functional approach.</li>
</ul>
<h2 id="observer-design-pattern-with-boost-signals">
  Observer Design Pattern with Boost Signals
  <a class="heading-link" href="#observer-design-pattern-with-boost-signals">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>Now what I&rsquo;m going to do is I&rsquo;ll make a small digression. Because instead of showing you something that we&rsquo;ve built ourselves what I want to show you is the observable implementation that comes with the Boost libraries.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;boost/signals2.hpp&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Observable</span> {  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">subscribe</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">auto</span><span style="color:#f92672">&amp;&amp;</span> observer) { m_field_changed.connect(observer); }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">unsubscribe</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">auto</span><span style="color:#f92672">&amp;&amp;</span> observer) { m_field_changed.disconnect(observer); }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    boost<span style="color:#f92672">::</span>signals2<span style="color:#f92672">::</span>signal<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">void</span>(T<span style="color:#f92672">&amp;</span>, <span style="color:#66d9ef">const</span> string<span style="color:#f92672">&amp;</span>)<span style="color:#f92672">&gt;</span>  m_field_changed;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Person</span> <span style="color:#f92672">:</span> Observable<span style="color:#f92672">&lt;</span>Person<span style="color:#f92672">&gt;</span> {  <span style="color:#75715e">// Observable &lt;&lt;&lt;&lt;-------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">set_age</span>(<span style="color:#66d9ef">uint8_t</span> age) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>m_age <span style="color:#f92672">=</span> age;
</span></span><span style="display:flex;"><span>        m_field_changed(<span style="color:#f92672">*</span><span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#34;age&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">auto</span> <span style="color:#a6e22e">get_age</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> m_age; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint32_t</span>    m_age {<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">TrafficAdministration</span> {                    <span style="color:#75715e">// Observer &lt;&lt;&lt;&lt;-----------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">field_changed</span>(Person <span style="color:#f92672">&amp;</span>source, <span style="color:#66d9ef">const</span> string<span style="color:#f92672">&amp;</span> field_name) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (field_name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;age&#34;</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (source.get_age() <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">17</span>)
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Not old enough to drive!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Mature enough to drive!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>                source.unsubscribe(TrafficAdministration<span style="color:#f92672">::</span>field_changed);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    Person p;
</span></span><span style="display:flex;"><span>    p.subscribe(TrafficAdministration<span style="color:#f92672">::</span>field_changed);
</span></span><span style="display:flex;"><span>    p.set_age(<span style="color:#ae81ff">16</span>);
</span></span><span style="display:flex;"><span>    p.set_age(<span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> EXIT_SUCCESS;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>Mind it, I have used <code>boost::signals2</code> as <code>boost::signals</code> are no longer being actively maintained. Due to <code>boost::signals2</code>, we can get rid of <code>std/boost::bind</code>, and can directly use <a href="/posts/learn-lambda-function-in-cpp-with-example/" >lambda</a>. You can check out <a href="https://theboostcpplibraries.com/boost.signals2-signals"  class="external-link" target="_blank" rel="noopener">a quick example of <code>boost::signals2</code></a> if you want.</li>
</ul>
<h2 id="benefits-of-observer-design-pattern">
  Benefits of Observer Design Pattern
  <a class="heading-link" href="#benefits-of-observer-design-pattern">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ol>
<li>It supports the loose coupling between <a href="/posts/memory-layout-of-cpp-object/" >object</a>s that interact with each other hence <a href="/posts/open-closed-principle-in-cpp-solid-as-a-rock/" >Open-Closed Principle</a> will be intact. Above examples also satisfy the <a href="/posts/single-responsibility-principle-in-cpp-solid-as-a-rock/" >Single Responsibility Principle</a> as Observer &amp; Observable are two different templatized classes which can easily be reusable.</li>
<li>It provides the flexibility of adding or removing observers at any time which is heavily use in event-driven programming.</li>
</ol>
<h2 id="summary-by-faqs">
  Summary by FAQs
  <a class="heading-link" href="#summary-by-faqs">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p><strong>Use cases of Observer Design Pattern.</strong></p>
<p>Usually, Observer Design Pattern employs when there is a one-to-many relationship between objects so that when one object changes state, all its dependents are notified and updated automatically. Typical use case area involves GUI libraries, Social media, RSS feeds, Email subscription, etc.</p>
<p><strong>Difference between Observer &amp; Mediator Design Pattern.</strong></p>
<p>Observer Design Pattern works on the one-to-many relationship.<br>
Mediator Design Pattern works on the many-to-many relationship.</p>

      </div>


      <footer>
        


        
        
        
        
        

        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
    integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
    integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2024
     Vishal Chovatiya 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  
  



  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
